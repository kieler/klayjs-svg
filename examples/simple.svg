<svg version="1.1" 
  xmlns="http://www.w3.org/2000/svg" width="441.9999990463257" height="144.33333285649618" >
  <defs>
    <style type="text/css">
      <![CDATA[

      rect {
        opacity: 0.8;
        fill: #6094CC;
        stroke-width: 1;
        stroke: #222222;
      }
      rect.port {
        opacity: 1;
        fill: #326CB2;
      }

      text {
        font-size: 10px;
        font-family: Sans-Serif;
        /* in klay's coordinates "hanging" would be the correct value" */
        alignment-baseline: baseline;
        text-anchor: start; 
      }
      g.port > text {
        font-size: 8px;  
      }
      polyline {
        fill: none;
        stroke: black;
        stroke-width: 1; 
      }
      path {
        fill: none;
        stroke: black; 
        stroke-width: 1; 
      }
    

      text.center {
        alignment-baseline: middle;
        text-anchor: middle;
      }
    

      polyline {
        marker-end: url(#arrow);
      }
      path {
        marker-end: url(#arrow);
      }
    
]]>
    </style>
    <marker id="arrow" markerWidth="10" markerHeight="8" refX="10" refY="4" orient="auto">
      <path d="M0,7 L10,4 L0,1 L0,7" style="fill: #000000;" />
    </marker>"  
    
  </defs>
  <g transform="translate(0,0)">
    <polyline points="329.9999990463257,65.6666661898295 315.99999928474426,65.6666661898295 315.99999928474426,19 12,19 12,49.99999976158142 47.99999952316284,49.99999976158142 " id="e1" class="edge" />
    <text x="301.99999952316284" y="12" width="0" height="0" >e1</text>
    <rect id="n1" class="node" x="329.9999990463257" y="32.333332856496185" width="100" height="100" style="opacity: 1; fill: #777;" data-bla="foo" rx="5" ry="5" />
    <g transform="translate(329.9999990463257,32.333332856496185)" >
      <text class="center" x="50" y="50" width="0" height="0" >n1</text>
    </g>
    <rect id="n2" class="node" x="52.99999952316284" y="32.99999976158142" width="224" height="78.99999976158142" />
    <g transform="translate(52.99999952316284,32.99999976158142)" >
      <rect id="n2_p1" class="port" x="-10" y="12" width="10" height="10" />
      <g class="port" transform="translate(-10,12)" >
        <text x="-3" y="13" width="0" height="0" >p1</text>
      </g>
      <text x="0" y="0" width="0" height="0" >n2</text>
    </g>
    <g transform="translate(52.99999952316284,32.99999976158142)">
      <path d="M82 32 C87 32 89.5 32 97 32 C104.5 32 117 32 122 32 " id="e4" class="edge" />
      <path d="M82 45.333333333333336 C87 45.333333333333336 84.5 45.333333333333336 86.58333333333334 45.333333333333336 C88.66666666666667 45.333333333333336 95.33333333333334 45.333333333333336 98.66666666666666 48.777777738041344 C102 52.22222214274936 101.99999999999999 59.11111095216538 105.33333333333331 62.5555553568734 C108.66666666666666 65.99999976158142 115.33333333333333 65.99999976158142 122.83333333333333 65.99999976158142 C130.33333333333331 65.99999976158142 138.66666666666666 65.99999976158142 147 65.99999976158142 C155.33333333333331 65.99999976158142 163.66666666666666 65.99999976158142 174.0833333333333 65.99999976158142 C184.49999999999997 65.99999976158142 197 65.99999976158142 276.99999952316284 65.99999976158142 " id="e5" class="edge" />
      <rect id="n3" class="dark beige node" x="42" y="18.666666666666664" width="40" height="40" />
      <g transform="translate(42,18.666666666666664)" >
        <text class="center center" x="20" y="20" width="0" height="0" >n3</text>
      </g>
      <rect id="n4" class="node" x="122" y="12" width="40" height="40" />
      <g transform="translate(122,12)" >
        <text class="center" x="20" y="20" width="0" height="0" >n4</text>
      </g>
    </g>
  </g>
</svg>

